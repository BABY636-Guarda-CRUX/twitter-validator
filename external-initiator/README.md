# Chainlink External Initiator

## Development

#### Install dependencies

```shell script
yarn install
```

#### Run development server

```shell script
yarn dev
```

#### Run tests

```shell script
yarn test
```

#### Generate / Update API documentation

```shell script
yarn generate-apidoc
```

## Production

#### Build for production

```shell script
yarn build
```

#### Run production server

```shell script
node `dist/index.js`
```

#### Authentication

Provide `Authentication Token` via `Bearer` **header**. Authentication token is
set via `AUTHENTICATION_TOKEN` environment variable on server.

## Environment variables reference

#### The following environment variables need to be set:

| Name                      | Description                                                                                                      | Required             |
| ------------------------- | ---------------------------------------------------------------------------------------------------------------- | -------------------- |
| `CHAINLINK_ACCESS_KEY`    | Access key generated by `Chainlink Node` when creating new `External Initiator`                                  | `Yes`                |
| `CHAINLINK_ACCESS_SECRET` | Secret generated by `Chainlink Node` when creating new `External Initiator`                                      | `Yes`                |
| `CHAINLINK_JOB_ID`        | ID of the job created on `Chainlink Node`. `External Initiator` will initiate this job when get incoming request | `Yes`                |
| `CHAINLINK_NODE_URL`      | `Chainlink Node` URL                                                                                             | `Yes`                |
| `AUTHENTICATION_TOKEN`    | Token used by service to authorise incoming requests. Provide a strong random string for this variable.          | `Yes`                |
| `PORT`                    | Port for handling incoming HTTP requests                                                                         | `No` `Default: 3000` |

[Test environment varibles example](./test.env)

## API documentation

[API documentation](./API.md)
